

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>A first class model &mdash; CodeableModels 0.99 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/sphinxcontrib-images\LightBox2\lightbox2\js\jquery-1.11.0.min.js"></script>
        <script src="_static/sphinxcontrib-images\LightBox2\lightbox2\js\lightbox.min.js"></script>
        <script src="_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinxcontrib-images\LightBox2\lightbox2\css\lightbox.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Class attributes" href="02_class_attributes.html" />
    <link rel="prev" title="Tutorials to learn Codeable Models by example" href="tutorials.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> CodeableModels
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About Codeable Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">Tutorials to learn Codeable Models by example</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">A first class model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#defining-a-class-model">Defining a class model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#imports">Imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generating-a-uml-class-model-visualization">Generating a UML class model visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="02_class_attributes.html">Class attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_class_relationships.html">Class relationships: associations and inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_first_object_model.html">A first object model</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_improving_the_models_through_code.html">Improving the models through code</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_first_meta_model.html">A first meta-model</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_meta_model_with_stereotypes.html">A meta-model with stereotypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_combining_object_class_and_meta_model.html">Combining object, class, and meta-class model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="samples_overview.html">Overview of the samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="metamodels_overview.html">Overview of predefined meta-model examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Codeable Models API documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CodeableModels</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="tutorials.html">Tutorials to learn Codeable Models by example</a> &raquo;</li>
        
      <li>A first class model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="a-first-class-model">
<span id="first-class-model"></span><h1>A first class model<a class="headerlink" href="#a-first-class-model" title="Permalink to this headline">¶</a></h1>
<div class="section" id="defining-a-class-model">
<h2>Defining a class model<a class="headerlink" href="#defining-a-class-model" title="Permalink to this headline">¶</a></h2>
<p>In this and the next sections, we create a simple domain model for a shopping cart, items in the carts,
and products defining the items as a class model. Please note that the domain model in this and the next sections
are inspired by the model at:
<a class="reference external" href="https://www.uml-diagrams.org/examples/online-shopping-domain-uml-diagram-example.html">https://www.uml-diagrams.org/examples/online-shopping-domain-uml-diagram-example.html</a>.
In Codeable Models a simple excerpt of such a model can be created with the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cart</span> <span class="o">=</span> <span class="n">CClass</span><span class="p">(</span><span class="n">domain_metaclass</span><span class="p">,</span> <span class="s2">&quot;Cart&quot;</span><span class="p">)</span>

<span class="n">item</span> <span class="o">=</span> <span class="n">CClass</span><span class="p">(</span><span class="n">domain_metaclass</span><span class="p">,</span> <span class="s2">&quot;Item&quot;</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">})</span>

<span class="n">product</span> <span class="o">=</span> <span class="n">CClass</span><span class="p">(</span><span class="n">domain_metaclass</span><span class="p">,</span> <span class="s2">&quot;Product&quot;</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">})</span>

<span class="n">cart_item_relation</span> <span class="o">=</span> <span class="n">cart</span><span class="o">.</span><span class="n">association</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;in cart: [cart] 0..1 -&gt; [item in cart] *&quot;</span><span class="p">)</span>
<span class="n">item_product_relation</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">association</span><span class="p">(</span><span class="n">product</span><span class="p">,</span> <span class="s2">&quot;product: [cart item] * -&gt; [product] 1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the model, we first define a class named <code class="docutils literal notranslate"><span class="pre">Cart</span></code> as an instance of the <code class="docutils literal notranslate"><span class="pre">domain_metaclass</span></code>
meta-class and assign its Python object to <code class="docutils literal notranslate"><span class="pre">cart</span></code>. This is done using <a class="reference internal" href="stubs/codeable_models.CClass.html#codeable_models.CClass" title="codeable_models.CClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">CClass</span></code></a>.
Next, we define two other classes <code class="docutils literal notranslate"><span class="pre">Item</span></code>
and <code class="docutils literal notranslate"><span class="pre">Product</span></code> in the same way. They additionally have attributes, which are defined using an
<code class="docutils literal notranslate"><span class="pre">attributes</span></code> dictionary. Both define various class attributes based on standard Python data
types such as <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, or <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p>In the last two lines, we define two associations between the classes. The first one associates
a cart to items with role name <code class="docutils literal notranslate"><span class="pre">cart</span></code> for the <code class="docutils literal notranslate"><span class="pre">Cart</span></code> side of the association, and role name
<code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">in</span> <span class="pre">cart</span></code> for the <code class="docutils literal notranslate"><span class="pre">Item</span></code> side of the association. The association has the label <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">cart</span></code>.
The cart side has the cardinality <code class="docutils literal notranslate"><span class="pre">0..1</span></code> whereas the items have the cardinality <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<p>Likewise a second association from items to a product is defined with label <code class="docutils literal notranslate"><span class="pre">product</span> <span class="pre">definition</span></code>,
role name <code class="docutils literal notranslate"><span class="pre">cart</span> <span class="pre">item</span></code> and cardinality <code class="docutils literal notranslate"><span class="pre">*</span></code> for the carts, and  role name <code class="docutils literal notranslate"><span class="pre">product</span></code> and
cardinality <code class="docutils literal notranslate"><span class="pre">1</span></code> for the product.</p>
</div>
<div class="section" id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Permalink to this headline">¶</a></h2>
<p>In order to make the model above run, we need to import some elements from Codeable Models at the
beginning of the script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">codeable_models</span> <span class="kn">import</span> <span class="n">CClass</span>
<span class="kn">from</span> <span class="nn">metamodels.domain_metamodel</span> <span class="kn">import</span> <span class="n">domain_metaclass</span>
</pre></div>
</div>
<p>The first line imports <a class="reference internal" href="stubs/codeable_models.CClass.html#codeable_models.CClass" title="codeable_models.CClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">CClass</span></code></a> used for any kind of class definition, and the second line
imports <code class="docutils literal notranslate"><span class="pre">domain_metaclass</span></code>, a common meta-class to be used in simple domain models such as the
one above. Most simple domain models do not need much more meta-modelling than this, as any
meta-model can reuse all Codeable Models class features such as associations, attributes,
inheritance, and so on.</p>
<p>Please note that alternatively we simply could have defined the meta-class like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">domain_metaclass</span> <span class="o">=</span> <span class="n">CMetaclass</span><span class="p">(</span><span class="s2">&quot;Domain Class&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This statement creates a new meta-class (using <a class="reference internal" href="stubs/codeable_models.CMetaclass.html#codeable_models.CMetaclass" title="codeable_models.CMetaclass"><code class="xref py py-class docutils literal notranslate"><span class="pre">CMetaclass</span></code></a>)
with the name <code class="docutils literal notranslate"><span class="pre">Domain</span> <span class="pre">Class</span></code>. It assigns the Python
object representing the meta-class to the variable <code class="docutils literal notranslate"><span class="pre">domain_metaclass</span></code>. The same and some other
definitions are performed in the model <code class="docutils literal notranslate"><span class="pre">metamodels.domain_metamodel</span></code>, which we import
(see also <a class="reference internal" href="metamodels_overview.html#domain-metamodel"><span class="std std-ref">Domain Metamodel</span></a>).</p>
</div>
<div class="section" id="generating-a-uml-class-model-visualization">
<h2>Generating a UML class model visualization<a class="headerlink" href="#generating-a-uml-class-model-visualization" title="Permalink to this headline">¶</a></h2>
<p>Next lets do something useful with our coded model. Codeable Models comes with renderers for
class and object models based on PlantUML. Here, we want to use the class model renderer to generate a
UML visualization of the model above. For this we need to define the subset of the model we
want to render. This is necessary as most models are much larger than three classes, and visualizations
usually should present digestible views of the whole model. This can be done by defining a
group of classes that should get rendered. Groups of classes can be defined using <a class="reference internal" href="stubs/codeable_models.CBundle.html#codeable_models.CBundle" title="codeable_models.CBundle"><code class="xref py py-class docutils literal notranslate"><span class="pre">CBundle</span></code></a>.
Here, in this small model, we want to define a bundle containing all classes, which can be done by
selecting any of the classes defined above and call <code class="docutils literal notranslate"><span class="pre">get_connected_elements()</span></code> on it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shopping_model</span> <span class="o">=</span> <span class="n">CBundle</span><span class="p">(</span><span class="s2">&quot;shopping_model&quot;</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="n">cart</span><span class="o">.</span><span class="n">get_connected_elements</span><span class="p">())</span>
</pre></div>
</div>
<p>Finally, we need to instantiate the Plant UML generator and generate a class model using it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generator</span> <span class="o">=</span> <span class="n">PlantUMLGenerator</span><span class="p">()</span>
<span class="n">generator</span><span class="o">.</span><span class="n">generate_class_models</span><span class="p">(</span><span class="s2">&quot;shopping_model&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">shopping_model</span><span class="p">,</span> <span class="p">{}])</span>
</pre></div>
</div>
<p>Please note that we pass the bundle as a list followed by an empty dictionary, as usually we
may want to render more than one class model view at once (thus the list), and to some of
those views we may want to pass configuration parameters (which would be done in the dictionary).</p>
<p>Finally, we need to import <code class="docutils literal notranslate"><span class="pre">CBundle</span></code> and <code class="docutils literal notranslate"><span class="pre">PlantUMLGenerator</span></code>, too. The resulting complete script is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">codeable_models</span> <span class="kn">import</span> <span class="n">CClass</span><span class="p">,</span> <span class="n">CBundle</span>
<span class="kn">from</span> <span class="nn">plant_uml_renderer</span> <span class="kn">import</span> <span class="n">PlantUMLGenerator</span>
<span class="kn">from</span> <span class="nn">metamodels.domain_metamodel</span> <span class="kn">import</span> <span class="n">domain_metaclass</span>

<span class="n">cart</span> <span class="o">=</span> <span class="n">CClass</span><span class="p">(</span><span class="n">domain_metaclass</span><span class="p">,</span> <span class="s2">&quot;Cart&quot;</span><span class="p">)</span>

<span class="n">item</span> <span class="o">=</span> <span class="n">CClass</span><span class="p">(</span><span class="n">domain_metaclass</span><span class="p">,</span> <span class="s2">&quot;Item&quot;</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">})</span>

<span class="n">product</span> <span class="o">=</span> <span class="n">CClass</span><span class="p">(</span><span class="n">domain_metaclass</span><span class="p">,</span> <span class="s2">&quot;Product&quot;</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">})</span>

<span class="n">cart_item_relation</span> <span class="o">=</span> <span class="n">cart</span><span class="o">.</span><span class="n">association</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;in cart: [cart] 0..1 -&gt; [item in cart] *&quot;</span><span class="p">)</span>
<span class="n">item_product_relation</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">association</span><span class="p">(</span><span class="n">product</span><span class="p">,</span> <span class="s2">&quot;product: [cart item] * -&gt; [product] 1&quot;</span><span class="p">)</span>

<span class="n">shopping_model</span> <span class="o">=</span> <span class="n">CBundle</span><span class="p">(</span><span class="s2">&quot;shopping_model&quot;</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="n">cart</span><span class="o">.</span><span class="n">get_connected_elements</span><span class="p">())</span>
<span class="n">generator</span> <span class="o">=</span> <span class="n">PlantUMLGenerator</span><span class="p">()</span>
<span class="n">generator</span><span class="o">.</span><span class="n">generate_class_models</span><span class="p">(</span><span class="s2">&quot;shopping_model&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">shopping_model</span><span class="p">,</span> <span class="p">{}])</span>
</pre></div>
</div>
<p>This script will generate the following UML class model:</p>
<img alt="_images/shopping_model1.png" src="_images/shopping_model1.png" />
<p>The full code of the example in this tutorial can be found in the sample <a class="reference internal" href="samples_overview.html#shopping-model1"><span class="std std-ref">Shopping Model 1</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="02_class_attributes.html" class="btn btn-neutral float-right" title="Class attributes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorials.html" class="btn btn-neutral float-left" title="Tutorials to learn Codeable Models by example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Uwe Zdun

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>